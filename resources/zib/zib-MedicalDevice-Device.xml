<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="zib-MedicalDevice-Device" />
  <url value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicalDevice-Device" />
  <name value="ZibMedicalDeviceDevice" />
  <title value="zib MedicalDevice Device" />
  <status value="draft" />
  <publisher value="Nictiz" />
  <contact>
    <name value="Nictiz" />
    <telecom>
      <system value="email" />
      <value value="info@nictiz.nl" />
      <use value="work" />
    </telecom>
  </contact>
  <description value="Medical devices are any internally implanted and external devices and/or aids used by the patient (in the past) to reduce the effects of functional limitations in organ systems or to facilitate the treatment of a disease." />
  <purpose value="This Device resource represents the Product container in the Dutch [zib MedicalDevice v3.3.1 ('Zorginformatiebouwsteen', i.e. Health and Care Information Model)](https://zibs.nl/wiki/MedicalDevice-v3.3.1(2020EN))" />
  <copyright value="Copyright and related rights waived via CC0, https://creativecommons.org/publicdomain/zero/1.0/. This does not apply to information from third parties, for example a medical terminology system. The implementer alone is responsible for identifying and obtaining any necessary licenses or authorizations to utilize third party IP in connection with the specification or otherwise." />
  <fhirVersion value="4.0.1" />
  <mapping>
    <identity value="zib-medicaldevice-v3.3.1-2020EN" />
    <uri value="https://zibs.nl/wiki/MedicalDevice-v3.3.1(2020EN)" />
    <name value="zib MedicalDevice-v3.3.1(2020EN)" />
  </mapping>
  <kind value="resource" />
  <abstract value="true" />
  <type value="Device" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Device" />
  <derivation value="constraint" />
  <differential>
    <element id="Device">
      <path value="Device" />
      <short value="Product" />
      <definition value="The medical device (internally or externally)." />
      <comment value="The zib requires the coding systems Health Industry Bar Code (HIBC) or the GS1's Global Trade Item Number (GTIN) to indentify devices. The device identification happens on the basis of an UDI. This resources contains a mapping on all UDI related elements. These elements, which are also relavant and populated when GTIN is used, contain a mapping to the zib concept ProductID.&#xD;&#xA;&#xD;&#xA;In short, the full indentifier will be populated in `udiCarrier.carrierHRF` and it is broken down into structural parts. These are the `.identifier`, `.udiCarrier.deviceIdentifier`, `.manufactureDate`, `.expirationDate`, `.lotNumber` and `.serialNumber`.&#xD;&#xA;&#xD;&#xA;The element `udiCarrier.issuer` can be used to indicate witch 'coding system' is used." />
      <alias value="Product" />
      <mapping>
        <identity value="zib-medicaldevice-v3.3.1-2020EN" />
        <map value="NL-CM:10.1.2" />
        <comment value="Product" />
      </mapping>
    </element>
    <element id="Device.identifier">
      <path value="Device.identifier" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="$this" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Device.identifier:productID">
      <path value="Device.identifier" />
      <sliceName value="productID" />
      <short value="ProductID" />
      <definition value="Unique identification of the product, such as the serial number. The `identifier` may only be used if it also identifies the resource. For this the serial number needs to be unique to one device.&#xD;&#xA;&#xD;&#xA;The serial number which is a component of the production identifier (PI), a conditional, variable portion of a UDI. The identifier.type code should be set to “SNO”(Serial Number) and the system left empty." />
      <comment value="The barcode string from a barcode present on a device label or package may identify the instance, include names given to the device in local usage, or may identify the type of device. If the identifier identifies the type of device, Device.type element should be used." />
      <alias value="ProductID" />
      <max value="1" />
      <patternIdentifier>
        <type>
          <coding>
            <system value="http://terminology.hl7.org/CodeSystem/v2-0203" />
            <code value="SNO" />
          </coding>
        </type>
      </patternIdentifier>
      <mapping>
        <identity value="zib-medicaldevice-v3.3.1-2020EN" />
        <map value="NL-CM:10.1.4" />
        <comment value="ProductID" />
      </mapping>
    </element>
    <element id="Device.udiCarrier">
      <path value="Device.udiCarrier" />
      <max value="1" />
    </element>
    <element id="Device.udiCarrier.deviceIdentifier">
      <path value="Device.udiCarrier.deviceIdentifier" />
      <short value="ProductID" />
      <definition value="The device identifier (DI) is a mandatory, fixed portion of a UDI that identifies the labeler and the specific version or model of a device.&#xD;&#xA;This represents also the GS1's Global Trade Item Number (GTIN)" />
      <alias value="ProductID" />
      <mapping>
        <identity value="zib-medicaldevice-v3.3.1-2020EN" />
        <map value="NL-CM:10.1.4" />
        <comment value="ProductID" />
      </mapping>
    </element>
    <element id="Device.udiCarrier.issuer">
      <path value="Device.udiCarrier.issuer" />
      <short value="ProductID" />
      <definition value="Organization that is charged with issuing UDIs for devices. For the zib, this would be the Global Trade Item Number (GTIN) or &#xD;&#xA;Health Industry Bar Code (HIBC). &#xD;&#xA;The are https://www.gs1.org/gtin and http://hl7.org/fhir/NamingSystem/hibcc, respectively." />
      <alias value="ProductID" />
      <mapping>
        <identity value="zib-medicaldevice-v3.3.1-2020EN" />
        <map value="NL-CM:10.1.4" />
        <comment value="ProductID" />
      </mapping>
    </element>
    <element id="Device.udiCarrier.carrierHRF">
      <path value="Device.udiCarrier.carrierHRF" />
      <short value="ProductID" />
      <alias value="ProductID" />
      <mapping>
        <identity value="zib-medicaldevice-v3.3.1-2020EN" />
        <map value="NL-CM:10.1.4" />
        <comment value="ProductID" />
      </mapping>
    </element>
    <element id="Device.manufactureDate">
      <path value="Device.manufactureDate" />
      <definition value="The date a specific device was manufactured - which is a component of the production identifier (PI), a conditional, variable portion of a UDI. &#xD;&#xA;GS1 standards: this represents the Manufacture date AI(11) - e.g. 250717 - as part of the Application Identifier (AI)." />
    </element>
    <element id="Device.expirationDate">
      <path value="Device.expirationDate" />
      <short value="ProductID" />
      <definition value="The expiration date of a specific device - which is a component of the production identifier (PI), a conditional, variable portion of a UDI.&#xD;&#xA;GS1 standards: this represents the Expiration date AI(17) - e.g. 141120 - as part of the Application Identifier (AI)." />
      <alias value="ProductID" />
      <mapping>
        <identity value="zib-medicaldevice-v3.3.1-2020EN" />
        <map value="NL-CM:10.1.4" />
        <comment value="ProductID" />
      </mapping>
    </element>
    <element id="Device.lotNumber">
      <path value="Device.lotNumber" />
      <short value="ProductID" />
      <definition value="The lot or batch number within which a device was manufactured - which is a component of the production identifier (PI), a conditional, variable portion of a UDI.&#xD;&#xA;GS1 standards: this represents the Batch - lot AI(10) - e.g. 1234AB - as part of the Application Identifier (AI)." />
      <alias value="ProductID" />
      <mapping>
        <identity value="zib-medicaldevice-v3.3.1-2020EN" />
        <map value="NL-CM:10.1.4" />
        <comment value="ProductID" />
      </mapping>
    </element>
    <element id="Device.serialNumber">
      <path value="Device.serialNumber" />
      <short value="ProductID" />
      <definition value="The serial number assigned by the organization when the device was manufactured.&#xD;&#xA;GS1 standards: this represents the Serial number AI(21) - e.g. 12345XYZ - as part of the Application Identifier (AI)." />
      <alias value="ProductID" />
      <mapping>
        <identity value="zib-medicaldevice-v3.3.1-2020EN" />
        <map value="NL-CM:10.1.4" />
        <comment value="ProductID" />
      </mapping>
    </element>
    <element id="Device.type">
      <path value="Device.type" />
      <short value="ProductType" />
      <definition value="The code of the type of product." />
      <alias value="ProductType" />
      <binding>
        <strength value="required" />
        <valueSet value="http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.10.1.1--20200901000000" />
      </binding>
      <mapping>
        <identity value="zib-medicaldevice-v3.3.1-2020EN" />
        <map value="NL-CM:10.1.3" />
        <comment value="ProductType" />
      </mapping>
    </element>
    <element id="Device.note">
      <path value="Device.note" />
      <max value="1" />
    </element>
    <element id="Device.note.text">
      <path value="Device.note.text" />
      <short value="ProductDescription" />
      <definition value="Textual description of the product." />
      <alias value="ProductOmschrijving" />
      <mapping>
        <identity value="zib-medicaldevice-v3.3.1-2020EN" />
        <map value="NL-CM:10.1.13" />
        <comment value="ProductDescription" />
      </mapping>
    </element>
  </differential>
</StructureDefinition>